<div class="component__inner matching__inner">

  {{> component this}}

  <div
    class="component__widget matching__widget{{#unless _isEnabled}} is-disabled{{#if _isInteractionComplete}} is-complete is-submitted show-user-answer{{#if _isCorrect}} is-correct{{/if}}{{/if}}{{/unless}}">

    {{#each _items}}
    <div
      class="matching__item item item-{{@index}}{{#unless ../_isEnabled}}{{#if ../_canShowMarking}}{{#if _isCorrect}} is-correct{{else}} is-incorrect{{/if}}{{/if}}{{/unless}}">

      {{#if text}}
      <div class="matching__item-title">
        <div class="matching__item-title_inner">
          {{{text}}}
        </div>
      </div>
      {{/if}}

      <div class="matching__item-media">

        {{#if _media.mp3}}
        {{#if _media.poster}}
        <img class="media_poster is-audio" src="{{_media.poster}}">
        {{/if}}
        <audio style="width: 100%" controls>
          <source src="{{_media.mp3}}" type="audio/mp3">
          </source>
        </audio>
        {{else}}
        {{#if _media.ogg}}
        <audio style="width: 100%;" controls>
          <source src="{{_media.ogg}}" type="audio/ogg">
          </source>
        </audio>
        {{else}}
        <video aria-hidden="true" preload="none" {{#if_value_equals _aspectRatio "square" }} width="640" height="640"
          {{else if_value_equals _aspectRatio "portrait" }} width="540" height="960" {{else}} width="640" height="360"
          {{/if_value_equals}} {{#if _playsinline}} playsinline{{/if}} {{#equals _media.type "video/vimeo"
          }}{{else}}poster="{{_media.poster}}" {{/equals}} style="width:100%; height:100%;" controls="controls"
          controlsList="nodownload">
          {{#if _media.source}}
          <source src="{{_media.source}}" type="{{_media.type}}" />
          {{else}}
          {{#if _media.mp4}}
          <source src="{{_media.mp4}}" type="video/mp4" />
          {{/if}}
          {{#if _media.ogv}}
          <source src="{{_media.ogv}}" type="video/ogg" />
          {{/if}}
          {{#if _media.webm}}
          <source src="{{_media.webm}}" type="video/webm" />
          {{/if}}
          {{/if}}

          {{#each _media.cc}}
          <track kind="subtitles" src="{{src}}" type="text/vtt" srclang="{{srclang}}" />
          {{/each}}

        </video>
        {{/if}}
        {{/if}}
      </div>
      <div class="matching__select-container">

        {{> dropdown this placeholder=../placeholder _id=../_id _dropdownIndex=@index}}

        <div class="matching__select-state">
          <div class="matching__select-icon matching__select-correct-icon">
            <div class="icon"></div>
          </div>
          <div class="matching__select-icon matching__select-incorrect-icon">
            <div class="icon"></div>
          </div>
        </div>

      </div>

    </div>
    {{/each}}

  </div>

  <div class="btn__container"></div>

</div>